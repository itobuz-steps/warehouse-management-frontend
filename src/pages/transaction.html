<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transaction Management</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script type="module" src="../js/common/sidebar.js" defer></script>
    <link href="../scss/transaction.scss" rel="stylesheet" />
  </head>

  <body>
    <!-- Toast Container -->
    <div id="toastSection" class="toast-container"></div>

    <button class="sidebar-toggle" id="sidebarToggle">
      <i class="fa-solid fa-circle-chevron-right"></i>
    </button>

    <!-- Sidebar -->
    <div id="sidebar-container"></div>

    <!-- Main Content -->
    <main class="main-content">
      <div class="transaction-card">
        <h2 class="text-center mb-4">Transaction Management</h2>

        <!-- Wrap all inputs in a <form> -->
        <form id="transactionForm">
          <!-- Transaction Type -->
          <div class="mb-3">
            <label for="type" class="form-label">Transaction Type</label>
            <select id="type" class="form-select">
              <option value="">Select Type</option>
              <option value="IN">Stock In</option>
              <option value="OUT">Stock Out</option>
              <option value="TRANSFER">Transfer</option>
              <option value="ADJUSTMENT">Adjustment</option>
            </select>
          </div>

          <!-- IN Fields -->
          <div id="inFields" class="hidden">
            <div class="mb-3">
              <label>Destination Warehouse</label>
              <select id="inDestinationWarehouse" class="form-select">
                <option value="">Select Warehouse</option>
              </select>
            </div>
            <button
              type="button"
              id="loadInProducts"
              class="btn btn-sm btn-secondary mb-3"
            >
              Load Products
            </button>
            <div id="inProductsContainer"></div>
            <button
              type="button"
              id="addInProduct"
              class="btn btn-outline-primary btn-sm mb-3"
            >
              + Add Product
            </button>
            <div class="mb-3">
              <label>Supplier</label>
              <input id="supplier" class="form-control" />
            </div>
            <input id="inNotes" class="form-control mb-2" placeholder="Notes" />
          </div>

          <!-- OUT Fields -->
          <div id="outFields" class="hidden">
            <label>Source Warehouse</label>
            <select id="outSourceWarehouse" class="form-select mb-2">
              <option value="">Select Warehouse</option>
            </select>
            <button
              type="button"
              id="loadOutProducts"
              class="btn btn-sm btn-secondary mb-3"
            >
              Load Products
            </button>
            <div id="outProductsContainer"></div>
            <button
              type="button"
              id="addOutProduct"
              class="btn btn-outline-primary btn-sm mb-3"
            >
              + Add Product
            </button>
            <input
              id="customerName"
              class="form-control mb-2"
              placeholder="Customer Name"
            />
            <input
              id="customerEmail"
              type="email"
              class="form-control mb-2"
              placeholder="Customer Email"
            />
            <input
              id="customerPhone"
              class="form-control mb-2"
              placeholder="Customer Phone"
            />
            <input
              id="customerAddress"
              class="form-control mb-2"
              placeholder="Customer Address"
            />
            <input
              id="orderNumber"
              class="form-control mb-2"
              placeholder="Order Number"
            />
            <input
              id="outNotes"
              class="form-control mb-2"
              placeholder="Notes"
            />
          </div>

          <!-- TRANSFER Fields -->
          <div id="transferFields" class="hidden">
            <label>Source Warehouse</label>
            <select id="sourceWarehouse" class="form-select mb-2">
              <option value="">Select Source Warehouse</option>
            </select>
            <label>Destination Warehouse</label>
            <select id="destinationWarehouse" class="form-select mb-2">
              <option value="">Select Destination Warehouse</option>
            </select>
            <button
              type="button"
              id="loadTransferProducts"
              class="btn btn-sm btn-secondary mb-3"
            >
              Load Products
            </button>
            <div id="transferProductsContainer"></div>
            <button
              type="button"
              id="addTransferProduct"
              class="btn btn-outline-primary btn-sm mb-3"
            >
              + Add Product
            </button>
            <input
              id="transferNotes"
              class="form-control mb-2"
              placeholder="Notes"
            />
          </div>

          <!-- ADJUSTMENT Fields -->
          <div id="adjustmentFields" class="hidden">
            <label>Warehouse</label>
            <select id="adjustWarehouseId" class="form-select mb-2">
              <option value="">Select Warehouse</option>
            </select>
            <button
              type="button"
              id="loadAdjustProducts"
              class="btn btn-sm btn-secondary mb-3"
            >
              Load Products
            </button>
            <div id="adjustProductsContainer"></div>
            <input
              id="adjustReason"
              class="form-control mb-2"
              placeholder="Reason"
            />
            <input
              id="adjustNotes"
              class="form-control mb-2"
              placeholder="Notes"
            />
          </div>

          <button type="submit" class="btn btn-primary mt-3 w-100">
            Submit Transaction
          </button>
        </form>
      </div>
    </main>

    <script type="module" src="../js/pages/transaction/transaction.js"></script>
  </body>
</html>
