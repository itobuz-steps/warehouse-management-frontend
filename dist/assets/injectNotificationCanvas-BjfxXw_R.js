const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./notification-ZBbogOnH.js","./notificationSubscribe-CvqMDFYb.js","./interceptor-BqUmgvG5.js","./index-C0eOhpfv.js","./config-D1K7ByuX.js","./_notification-yOcIxWuN.css"])))=>i.map(i=>d[i]);
import"./bootstrap.esm-C02OvDcj.js";import{T as w}from"./index-C0eOhpfv.js";import{a as y}from"./interceptor-BqUmgvG5.js";import{c as v}from"./config-D1K7ByuX.js";const b=async()=>(await y.get(`${v.PROFILE_BASE_URL}/me`)).data.data.user,$=async()=>(await y.get(`${v.WAREHOUSE_BASE_URL}/get-warehouses/`)).data.data,S=new w,h=document.getElementById("toastSection");document.addEventListener("DOMContentLoaded",_);async function _(){try{await k(),P();const e=await b(),t=document.getElementById("manageWarehouse");t&&e.role!=="admin"&&t.classList.add("d-none");const n=document.getElementById("archivedProducts");n&&e.role!=="admin"&&n.classList.add("d-none")}catch(e){h.innerHTML=S.errorToast(e.message)}finally{setTimeout(()=>{h.innerHTML=""},3e3)}}async function k(){try{const e=await fetch("sidebar.html");if(!e.ok)throw new Error("Sidebar not found");const t=await e.text(),n=document.getElementById("sidebar-container");n&&(n.innerHTML=t)}catch(e){console.error("Error loading sidebar:",e)}}function P(){const e=document.getElementById("sidebarToggle"),t=document.querySelector(".sidebar");if(!t||!e)return;e.addEventListener("click",s=>{s.stopPropagation(),t.classList.toggle("active"),document.body.classList.toggle("sidebar-open"),e.style.display=t.classList.contains("active")?"none":"flex"}),document.addEventListener("click",s=>{const o=!t.contains(s.target)&&!e.contains(s.target);t.classList.contains("active")&&o&&(t.classList.remove("active"),document.body.classList.remove("sidebar-open"),e.style.display="flex")});const n=window.location.pathname.split("/").pop();document.querySelectorAll(".sidebar-menu a").forEach(s=>{const o=s.getAttribute("href").split("/").pop();s.classList.toggle("active",o===n)}),document.querySelector(".logout-button")?.addEventListener("click",()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="../../pages/login.html"})}const B="modulepreload",T=function(e,t){return new URL(e,t).href},p={},E=function(t,n,m){let f=Promise.resolve();if(n&&n.length>0){let L=function(r){return Promise.all(r.map(c=>Promise.resolve(c).then(l=>({status:"fulfilled",value:l}),l=>({status:"rejected",reason:l}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),g=a?.nonce||a?.getAttribute("nonce");f=L(n.map(r=>{if(r=T(r,m),r in p)return;p[r]=!0;const c=r.endsWith(".css"),l=c?'[rel="stylesheet"]':"";if(m)for(let d=o.length-1;d>=0;d--){const u=o[d];if(u.href===r&&(!c||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${l}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":B,c||(i.as="script"),i.crossOrigin="",i.href=r,g&&i.setAttribute("nonce",g),document.head.appendChild(i),c)return new Promise((d,u)=>{i.addEventListener("load",d),i.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${r}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return f.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return t().catch(s)})},I=document.getElementById("notifications-container");fetch("../../pages/notification.html").then(e=>e.text()).then(e=>{I.innerHTML=e,E(()=>import("./notification-ZBbogOnH.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),E(()=>Promise.resolve({}),__vite__mapDeps([5]),import.meta.url)}).catch(e=>{console.error("Failed to load notifications offcanvas:",e)});export{$ as a,b as g};
