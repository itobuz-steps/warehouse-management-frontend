import"../modulepreload-polyfill-B5Qt9EMX.js";import{s as c}from"../showPasswordToggle-bpwKeFfH.js";import"../bootstrap.esm-C02OvDcj.js";import{a as m,T as l}from"../index-C0eOhpfv.js";import{c as d}from"../config-E-HGwCPq.js";import{r as g}from"../notificationSubscribe-CmFHitWp.js";import"../interceptor-B7g-R4Lu.js";const p={loginForm:document.querySelector(".login-form")},a=new l,s=document.getElementById("toastSection"),T=async t=>{try{t.preventDefault();const o=new FormData(t.target),n=o.get("email"),r=o.get("password"),i={email:n,password:r},e=await m.post(`${d.AUTH_BASE_URL}/login`,i);localStorage.setItem("access_token",e.data.data.accessToken),localStorage.setItem("refresh_token",e.data.data.refreshToken);const w=await g();s.innerHTML=a.successToast(e.data.message),setTimeout(()=>{window.location.href="/pages/dashboard.html"},1e3)}catch(o){console.log(o),s.innerHTML=a.errorToast(o.response.data.message)}finally{setTimeout(()=>{s.innerHTML=""},3e3)}};p.loginForm.addEventListener("submit",T);const u=document.getElementById("togglePassword");u.addEventListener("click",()=>{const t=document.getElementById("password");c(t)});
